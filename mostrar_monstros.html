<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monstros Tormenta</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-image:  url('https://flowgames.gg/wp-content/uploads/2023/05/04-Colecao-Arton-1-1044x721.jpg');
             background-size: cover; /* Faz a imagem cobrir todo o fundo */
            background-repeat: no-repeat; /* Impede a repetição da imagem */
            color: black;
            text-align: center;
            padding: 50px;
        }
.square {
color:black;
  background-color: white;
}
        h1 {
            margin-bottom: 30px;
        }
        button {
            background-color: #e74c3c;
            border: none;
            color: white;
            padding: 15px 30px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #c0392b;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
    </style>
</head>
<body>
    <h1>Monstros Tormenta</h1>


    <Label> Nomes</Label>
    <select id="NomeInp" disabled>
        <option value="select">Selecione:</option>
    </select>

    <div id="info" class="square" style="display: none;">
        <h id="nome"></h>
        <p id="tipo"></p>
        <p id="tamanho"></p>
        <p id="ND"></p>
        <p id="vida"></p>
        <p id="dano"></p>
        <p id="tesouro"></p>
    </div>



    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyD4pj-vv2AUd9BUjMpGppHrgK7aFkfQ96Q",
          authDomain: "tormenta-projeto.firebaseapp.com",
          databaseURL: "https://tormenta-projeto-default-rtdb.firebaseio.com",
          projectId: "tormenta-projeto",
          storageBucket: "tormenta-projeto.firebasestorage.app",
          messagingSenderId: "840338790531",
          appId: "1:840338790531:web:713b137e4fc6a8640623b6",
          measurementId: "G-H43EHD51KJ"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase();
        import { getDatabase, ref, child, get } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-database.js";
        const NomesInp = document.getElementById('NomeInp');
        const infoDiv = document.getElementById('info');

        // Elementos para exibir os dados
        const nomeElem = document.getElementById('nome');
        const tipoElem = document.getElementById('tipo');
        const tamanhoElem = document.getElementById('tamanho');
        const NDElem = document.getElementById('ND');
        const vidaElem = document.getElementById('vida');
        const danoElem = document.getElementById('dano');
        const tesouroElem = document.getElementById('tesouro');

        function Getnomes(){
            const dbRef = ref(db);

            get(child(dbRef, 'Monstros/')).then((snapshot)=>{
                if(snapshot.exists()){
                const nomesData= snapshot.val();
                Object.keys(nomesData).forEach((key) => {
                    const nome = nomesData[key].nome;
                        const opt = document.createElement('option');
                        opt.value = key; // A chave será usada para buscar detalhes do monstro
                        opt.innerText = nome;
                        NomesInp.appendChild(opt);
                    });
                    NomesInp.disabled = false; // abre o select
                }
            }
        }
        function ShowInfo(event) {
            const selectedKey = event.target.value;
            if (selectedKey === "select") {
                infoDiv.style.display = "none"; // Esconde o painel de informações
                return;
            }
            const dbRef = ref(db);
            get(child(dbRef, `Monstros/${selectedKey}`)).then((snapshot) => {
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    nomeElem.innerText = `Nome: ${data.nome}`;
                    tipoElem.innerText = `Tipo: ${data.tipo}`;
                    tamanhoElem.innerText = `Tamanho: ${data.tamanho}`;
                    NDElem.innerText = `ND: ${data.ND}`;
                    vidaElem.innerText = `Vida: ${data.vida}`;
                    danoElem.innerText = `Dano: ${data.dano}`;
                    tesouroElem.innerText = `Tesouro: ${data.tesouro}`;
                    infoDiv.style.display = "block"; // Mostra o painel de informações
                }
            }).catch((error) => {
                console.error("Erro ao obter informações:", error);
            });
        }

        window.addEventListener('load', Getnomes);
        NomesInp.addEventListener('change', ShowInfo);
      </script>
</body>
</html>
